<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choisissez vos GIFs préférés</title>
</head>
<body>
    <h1>Choisissez vos GIFs préférés</h1>

    <div id="group1">
        <h2>Groupe 1</h2>
        <p>Choisissez un GIF parmi ceux-ci :</p>
        <img src="gif1.gif" alt="GIF 1">
        <button onclick="chooseFavorite(1, 1)">Choisir</button>
        <img src="gif2.gif" alt="GIF 2">
        <button onclick="chooseFavorite(1, 2)">Choisir</button>
        <img src="gif3.gif" alt="GIF 3">
        <button onclick="chooseFavorite(1, 3)">Choisir</button>
        <img src="gif4.gif" alt="GIF 4">
        <button onclick="chooseFavorite(1, 4)">Choisir</button>
    </div>

    <div id="group2" style="display: none;">
        <h2>Groupe 2</h2>
        <p>Choisissez un GIF parmi ceux-ci :</p>
        <img src="gif5.gif" alt="GIF 5">
        <button onclick="chooseFavorite(2, 1)">Choisir</button>
        <img src="gif6.gif" alt="GIF 6">
        <button onclick="chooseFavorite(2, 2)">Choisir</button>
        <img src="gif7.gif" alt="GIF 7">
        <button onclick="chooseFavorite(2, 3)">Choisir</button>
        <img src="gif8.gif" alt="GIF 8">
        <button onclick="chooseFavorite(2, 4)">Choisir</button>
    </div>

    <div id="group3" style="display: none;">
        <h2>Groupe 3</h2>
        <p>Choisissez un GIF parmi ceux-ci :</p>
        <img src="gif9.gif" alt="GIF 9">
        <button onclick="chooseFavorite(3, 1)">Choisir</button>
        <img src="gif10.gif" alt="GIF 10">
        <button onclick="chooseFavorite(3, 2)">Choisir</button>
        <img src="gif11.gif" alt="GIF 11">
        <button onclick="chooseFavorite(3, 3)">Choisir</button>
        <img src="gif12.gif" alt="GIF 12">
        <button onclick="chooseFavorite(3, 4)">Choisir</button>
    </div>

    <div id="group4" style="display: none;">
        <h2>Groupe 4</h2>
        <p>Choisissez un GIF parmi ceux-ci :</p>
        <img src="gif13.gif" alt="GIF 13">
        <button onclick="chooseFavorite(4, 1)">Choisir</button>
        <img src="gif14.gif" alt="GIF 14">
        <button onclick="chooseFavorite(4, 2)">Choisir</button>
        <img src="gif15.gif" alt="GIF 15">
        <button onclick="chooseFavorite(4, 3)">Choisir</button>
        <img src="gif16.gif" alt="GIF 16">
        <button onclick="chooseFavorite(4, 4)">Choisir</button>
    </div>

    <div id="finalGroup" style="display: none;">
        <h2>Vos GIFs préférés</h2>
        <p>Choisissez votre GIF préféré parmi les quatre suivants :</p>
        <div id="finalChoices"></div>
    </div>

    <div id="ultimateFavorite" style="display: none;">
        <h2>Votre GIF préféré ultime</h2>
        <p>Voici votre GIF préféré ultime :</p>
        <img id="ultimateFavoriteImg" src="" alt="GIF Préféré Ultime">
    </div>

    <script>
        var favoriteGIFs = [[], [], [], []];

        // Fonction pour gérer le choix de l'utilisateur dans chaque groupe
        function chooseFavorite(groupNumber, imageNumber) {
            var selectedGIF = document.querySelector('#group' + groupNumber + ' img:nth-of-type(' + imageNumber + ')');
            if (selectedGIF) {
                favoriteGIFs[groupNumber - 1].push(selectedGIF.src);
            }

            // Masquer le groupe actuel et afficher le prochain groupe (ou le groupe final)
            document.getElementById('group' + groupNumber).style.display = 'none';
            if (groupNumber < 4) {
                document.getElementById('group' + (groupNumber + 1)).style.display = 'block';
            } else {
                showFinalChoices();
            }
        }

        // Fonction pour afficher les GIFs préférés à la fin
        function showFinalChoices() {
            var finalChoices = document.getElementById('finalChoices');
            for (var i = 0; i < favoriteGIFs.length; i++) {
                for (var j = 0; j < favoriteGIFs[i].length; j++) {
                    finalChoices.innerHTML += '<img src="' + favoriteGIFs[i][j] + '" alt="GIF ' + ((i * 4) + j + 1) + '">';
                }
            }
            document.getElementById('finalGroup').style.display = 'block';

            // Ajouter les boutons de choix pour les 4 préférés
            finalChoices.innerHTML += '<button onclick="chooseUltimateFavorite(\'' + favoriteGIFs[0][0] + '\')">Choisir 1er</button>';
            finalChoices.innerHTML += '<button onclick="chooseUltimateFavorite(\'' + favoriteGIFs[1][0] + '\')">Choisir 2e</button>';
            finalChoices.innerHTML += '<button onclick="chooseUltimateFavorite(\'' + favoriteGIFs[2][0] + '\')">Choisir 3e</button>';
            finalChoices.innerHTML += '<button onclick="chooseUltimateFavorite(\'' + favoriteGIFs[3][0] + '\')">Choisir 4e</button>';
        }

        // Fonction pour afficher le GIF préféré ultime
        function chooseUltimateFavorite(src) {
            document.getElementById('ultimateFavoriteImg').src = src;
            document.getElementById('finalGroup').style.display = 'none';
            document.getElementById('ultimateFavorite').style.display = 'block';
        }
    </script>
</body>
</html>